---
title: 优化之网络篇
category: 性能优化
top: 79
---

### 启用GZIP压缩

### 使用浏览器缓存

详见[浏览器缓存](../extra/cache.md)

### 移除会阻止内容呈现的 Javascript

浏览器必须先通过解析 HTML 标记来构建 DOM 树，然后才能呈现网页。 在此过程中，每当解析器遇到脚本时，它都必须先停止解析 HTML 并执行该脚本，然后才能继续解析。对于外部脚本，系统还会强制解析器等待相应资源下载完毕（这可能会产生一次或多次网络往返过程并导致网页的首次呈现时间延迟）。

应尽可能避免使用会阻止内容呈现的 JavaScript，尤其是必须先由系统获取然后才能被执行的外部脚本。

用于呈现网页内容的脚本可内嵌到网页中，以避免产生额外的网络请求，但内嵌的内容不能太大，而且必须可被快速执行以提供良好的性能。

对初次呈现不重要的脚本应设为异步加载，或推迟到首次呈现完毕后再开始加载。

```markup
<script async src="my.js">
```

请注意，异步脚本未必会按指定的顺序执行。

### 优化 CSS 发送过程

浏览器必须先处理当前网页的所有样式和布局信息，然后才能呈现内容。因此，浏览器会阻止呈现网页内容，直到外部样式表已下载完毕并处理完毕。



